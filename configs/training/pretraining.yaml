# Pretraining Configuration
# Self-supervised pretraining on diverse MD simulations

# Training data
data:
  train_path: data/train
  val_path: data/val
  batch_size: 32
  num_workers: 0  # Set to 0 for Windows compatibility
  shuffle: true
  
  # Data diversity
  materials: [Si, Fe, W, Cu, Al]
  density_range: [0.001, 10.0]  # particles/nmÂ³
  energy_range: [0.1, 100.0]  # MeV
  temperature_range: [100.0, 10000.0]  # K
  trajectory_length: [100, 1000]  # timesteps

# Optimizer
optimizer:
  type: adamw
  lr: 1.0e-3
  weight_decay: 1.0e-4
  betas: [0.9, 0.999]
  eps: 1.0e-8

# Learning rate scheduler
scheduler:
  type: cosine_annealing
  T_max: 100  # epochs
  eta_min: 1.0e-6
  warmup_epochs: 5
  warmup_start_lr: 1.0e-5

# Training loop
training:
  epochs: 100
  gradient_clip_norm: 1.0
  log_interval: 10  # batches
  val_interval: 1  # epochs
  checkpoint_interval: 5  # epochs
  early_stopping_patience: 15

# Loss weights
loss_weights:
  autoregressive: 1.0
  contrastive: 0.5
  masked_particle: 0.5

# Contrastive learning
contrastive:
  temperature: 0.07
  similarity_threshold: 0.1  # For defining similar configurations

# Masked particle prediction
masked_particle:
  mask_ratio: 0.15
  mask_strategy: random  # random, block, or adaptive

# Logging
logging:
  use_tensorboard: true
  tensorboard_dir: logs/pretraining
  use_wandb: false
  wandb_project: multi-scale-physics
  wandb_entity: null
  log_gradients: false
  log_weights: false

# Checkpointing
checkpointing:
  save_dir: checkpoints/pretraining
  save_best_only: false
  monitor_metric: val_loss
  mode: min
